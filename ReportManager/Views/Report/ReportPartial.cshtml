<!-- ko if: !editMode() -->
<div class="col-md-8 col-md-offset-2">
    <div class="report">
        <div class="report-header">
            <div class="report-date">
                <div class="report-date-element"><span style="font-size: large"   data-bind="text: moment(date()).format('DD/MM/YYYY')" ></span></div>
                <div class="report-date-element"><span style="font-size: medium"  data-bind="text: moment(date()).format('HH:mm')"></span></div>
            </div>
            <div class="report-title">
                <span style="font-size: xx-large" data-bind="text: flow, visible: !editMode()"></span>
            </div>
        </div>
        <div class="report-content">
            <!-- ko if: status() != null -->
            <div class="report-header">
               <span class="report-cell-left"><strong>Estado:</strong></span>
               <span class="report-cell-right" data-bind="text: status, visible: !editMode()"></span>
            </div>
            <!-- /ko -->

            <!-- ko if: application() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Aplicação:</strong></span>
                <span class="report-cell-right" data-bind="text: application, visible: !editMode()"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: impact() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Impacto:</strong></span>
                <span class="report-cell-right" data-bind="text: impact, visible: !editMode()"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: workaround() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Solução paliativa:</strong></span>
                <span class="report-cell-right" data-bind="text: workaround, visible: !editMode()"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: workaroundTime() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Tempo na madrugada:</strong></span>
                <span class="report-cell-right" data-bind="text: workaroundTime, visible: !editMode()"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: reporter() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Incomodado:</strong></span>
                <span class="report-cell-right" data-bind="text: reporter, visible: !editMode()"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: solution() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Solução:</strong></span>
                <span class="report-cell-right" data-bind="text: solution, visible: !editMode()"></span>
            </div>
            <!-- /ko 
            <!-- ko if: solutionTime() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Tempo da solução:</strong></span>
                <span class="report-cell-right" data-bind="text: solutionTime, visible: !editMode()"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: description() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Problema:</strong></span>
                <span class="report-cell-right" data-bind="text: description, visible: !editMode()"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: responsibleTeam() != null -->
            <div class="report-header">
                <span class="report-cell-left"><strong>Time responsável:</strong></span>
                <span class="report-cell-right" data-bind="text: responsibleTeam, visible: !editMode()"></span>
            </div>
            <!-- /ko -->
        </div>
        <div class="report-header">
            <div class="report-footer">
                <button class="btn btn-default" data-bind="click: function() { ReportPartial.setEditMode($data,true); ReportPartial.makeCopy($data)}">Editar <span class="glyphicon glyphicon-edit"></span></button>
                <button class="btn btn-default" data-bind="click: function() { ReportPartial.setEditMode($data,false); ReportPartial.makeCopy($data)}">Copiar <span class="glyphicon glyphicon-copy"></span></button>
                <button class="btn btn-default">Apagar <span class="glyphicon glyphicon-trash"></span></button>
            </div>
        </div>
    </div>
</div>
<!-- /ko -->
<!-- ko if: editMode() -->
<div class="col-md-8 col-md-offset-2">
    <div class="report">
        <div class="report-header">
            <div class="report-date">
                <div class="report-date-element"><input data-bind='dateTimePicker: date' /></div>

            </div>
            <div class="report-title">
                <input contentEditable="true" class="editable-element" style="font-size: xx-large" data-bind="value: flow">
            </div>
        </div>
        <div class="report-content">
            <div class="report-header">
                <span class="report-cell-left"><strong>Estado:</strong></span>
                <div>
                    <select id="status" name="status" data-bind="value: status">
                        @{
                            int counter = 0;
                            foreach (var statusType in @ViewData["ReportStatuses"] as IList<string>)
                            {
                                <option value="@counter">@statusType</option>
                                counter++;
                            }
                        }
                    </select>
                </div>

            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Aplicação:</strong></span>
                <input contentEditable="true" class="report-cell-right editable-element" data-bind="value: application" />
            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Impacto:</strong></span>
                <input contentEditable="true" class="report-cell-right editable-element" data-bind="value: impact" />
            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Solução paliativa:</strong></span>
                <input contentEditable="true" class="report-cell-right editable-element" data-bind="value: workaround" />
            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Tempo na madrugada:</strong></span>
                <input contentEditable="true" class="report-cell-right editable-element" data-bind="value: status" />
            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Incomodado:</strong></span>
                <input contentEditable="true" class="report-cell-right editable-element" data-bind="value: reporter" />
            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Solução:</strong></span>
                <input contentEditable="true" class="report-cell-right editable-element" data-bind="value: solution" />
            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Tempo da solução:</strong></span>
                <input contentEditable="true" class="report-cell-right editable-element" data-bind="value: solutionTime" />
            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Problema:</strong></span>
                <textarea contentEditable="true" class="report-cell-right  editable-element" data-bind="value: description"></textarea>
            </div>
            <div class="report-header">
                <span class="report-cell-left"><strong>Time responsável:</strong></span>
                <input contentEditable="true" class="report-cell-right  editable-element" data-bind="value: responsibleTeam" />
            </div>
        </div>
        <div class="report-header">
            <div class="report-footer">
                <button class="btn btn-success" data-bind="click: function() {ReportPartial.setEditMode($data,false);}">Atualizar <span class="glyphicon glyphicon-ok-sign"></span></button>
                <button class="btn btn-danger"  data-bind="click: function() {ReportPartial.setEditMode($data,false); ReportPartial.restore($data)}">Retornar <span class="glyphicon glyphicon-remove-sign"></span></button>
            </div>
        </div>
    </div>
</div>
<!-- /ko -->